/* static/css/ai2.css  (NAVY THEME, unified) */
:root{
  --bg0:#07111f;         /* page bg */
  --bg1:#0a1a33;         /* panel bg */
  --bg2:rgba(255,255,255,.06);
  --bd:rgba(148,163,184,.22);
  --text:rgba(255,255,255,.92);
  --muted:rgba(226,232,240,.66);

  --primary:#2f6bff;
  --primary2:#1e4fff;
  --ring:rgba(47,107,255,.28);

  --bot:rgba(255,255,255,.08);
  --user:linear-gradient(135deg, #2f6bff, #1e4fff);

  --shadow:0 16px 40px rgba(0,0,0,.28);
  --shadow2:0 10px 20px rgba(0,0,0,.22);

  --ok:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;
}

/* page padding */
.ai2-page{ padding: 0 32px; }

/* layout */
.ai2-layout{ display:flex; gap:24px; width:100%; }
.ai2-side{ width:220px; flex:0 0 220px; position:sticky; top:90px; }
.ai2-main{ flex:1; min-width:0; }

/* LEFT TABS */
.ai2-tabnav .nav-link{
  border-radius:16px;
  padding:14px 16px;
  margin-bottom:12px;
  font-weight:900;
  letter-spacing:-.2px;

  color:var(--text) !important;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));
  border:1px solid var(--bd);
  box-shadow:var(--shadow2);
  transition:transform .12s ease, background .12s ease, border-color .12s ease;
}
.ai2-tabnav .nav-link:hover{
  transform:translateY(-1px);
  border-color:rgba(47,107,255,.45);
}
.ai2-tabnav .nav-link.active{
  background:linear-gradient(135deg, rgba(47,107,255,.22), rgba(30,79,255,.14));
  border-color:rgba(47,107,255,.65);
  box-shadow:0 0 0 4px var(--ring), var(--shadow2);
}

/* side note */
.ai2-side-note{
  margin-top:14px;
  padding:12px;
  border-radius:16px;
  border:1px solid var(--bd);
  background:linear-gradient(180deg, rgba(10,26,51,.72), rgba(7,17,31,.72));
  color:var(--muted);
  box-shadow:var(--shadow2);
  backdrop-filter: blur(10px);
}
.ai2-side-note-title{ font-weight:900; color:var(--text); font-size:12px; margin-bottom:6px; }
.ai2-side-note-body{ font-size:12px; line-height:1.55; }

/* PANEL (B2B/B2C/QnA unified) */
.ai2-panel,
.ai2-card{
  border-radius:18px;
  border:1px solid var(--bd) !important;
  background:linear-gradient(180deg, rgba(10,26,51,.88), rgba(7,17,31,.88)) !important;
  box-shadow:var(--shadow);
  overflow:hidden;
  backdrop-filter: blur(12px);
}

/* 만약 B2C에 bg-light 붙어있으면 강제로 덮어씀 */
.ai2-card.bg-light{ background:linear-gradient(180deg, rgba(10,26,51,.88), rgba(7,17,31,.88)) !important; }

.ai2-panel-header{
  padding:14px 16px;
  background:rgba(255,255,255,.05);
  border-bottom:1px solid var(--bd);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.ai2-panel-title{ font-size:15px; font-weight:900; color:var(--text); }
.ai2-panel-sub{ font-size:12px; color:var(--muted); margin-top:3px; }
.ai2-panel-actions{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.ai2-panel-body{ padding:16px; }

/* controls */
.ai2-label{ font-size:12px; color:var(--muted); margin-bottom:6px; }
.ai2-control{
  border-radius:14px !important;
  border:1px solid rgba(148,163,184,.26) !important;
  background:rgba(255,255,255,.06) !important;
  color:var(--text) !important;
  box-shadow:none !important;
}
.ai2-control:focus{
  border-color:rgba(47,107,255,.75) !important;
  box-shadow:0 0 0 4px var(--ring) !important;
}
.ai2-control::placeholder{ color:rgba(226,232,240,.45) !important; }

.ai2-btn{
  background: linear-gradient(180deg, #2a4fd8 0%, #1f3aa8 100%);
  border: 1px solid rgba(148,163,184,.22);
  color: rgba(255,255,255,.92);
  box-shadow: 0 10px 20px rgba(0,0,0,.25);
  border-radius: 18px;
  font-weight: 900;
}

.ai2-btn:hover{ filter:brightness(1.02); }
.ai2-btn-outline{
  border-radius:14px !important;
  font-weight:900 !important;
  color:var(--text) !important;
  background:rgba(255,255,255,.06) !important;
  border:1px solid var(--bd) !important;
}
.ai2-btn-outline:hover{ border-color:rgba(47,107,255,.55) !important; }

/* CHAT */
.ai2-chat-log{
  height:420px;
  overflow-y:auto;
  padding:14px;
  border-radius:16px;
  border:1px solid var(--bd);
  background:rgba(255,255,255,.04);
}
.ai2-chat-log--compact{ height:240px; }

.ai2-msg{ display:flex; margin:10px 0; }
.ai2-msg--user{ justify-content:flex-end; }
.ai2-msg--bot{ justify-content:flex-start; }
.ai2-msg--system{ justify-content:flex-start; }

.ai2-bubble{
  max-width:78%;
  padding:11px 12px;
  border-radius:16px;
  line-height:1.45;
  white-space:pre-wrap;
  word-break:break-word;
  border:1px solid rgba(148,163,184,.20);
  box-shadow:0 8px 16px rgba(0,0,0,.18);
}
.ai2-msg--user .ai2-bubble{
  background:var(--user);
  color:#fff;
  border-color:transparent;
  border-top-right-radius:10px;
}
.ai2-msg--bot .ai2-bubble{
  background:var(--bot);
  color:var(--text);
  border-top-left-radius:10px;
}
.ai2-msg--system .ai2-bubble{
  background:rgba(245,158,11,.18);
  color:rgba(255,255,255,.92);
  border-color:rgba(245,158,11,.35);
}

/* GEO dot */
.ai2-dot{
  width:10px; height:10px; border-radius:999px;
  background:var(--warn);
  box-shadow:0 0 0 4px rgba(245,158,11,.18);
}
.ai2-dot.ok{ background:var(--ok); box-shadow:0 0 0 4px rgba(34,197,94,.18); }
.ai2-dot.bad{ background:var(--bad); box-shadow:0 0 0 4px rgba(239,68,68,.18); }
.ai2-dot.wait{
  background: var(--warn);
  box-shadow: 0 0 0 4px rgba(245,158,11,.18);
}
.ai2-geo-text{ font-size:12px; color:var(--muted); }

/* QnA */
.ai2-qna{ display:flex; flex-direction:column; gap:12px; }
.ai2-qna-item{
  padding:12px;
  border-radius:16px;
  border:1px solid var(--bd);
  background:rgba(255,255,255,.04);
}
.ai2-qna-q{ font-weight:900; color:var(--text); margin-bottom:6px; }
.ai2-qna-a{ color:var(--muted); }

/* nicer scrollbar */
.ai2-chat-log::-webkit-scrollbar{ width:10px; }
.ai2-chat-log::-webkit-scrollbar-thumb{
  background:rgba(148,163,184,.22);
  border-radius:999px;
  border:2px solid rgba(0,0,0,0);
  background-clip:padding-box;
}
.ai2-chat-log::-webkit-scrollbar-thumb:hover{ background:rgba(148,163,184,.32); }

/* responsive */
@media (max-width: 992px){
  .ai2-page{ padding:0 16px; }
  .ai2-layout{ flex-direction:column; }
  .ai2-side{ width:100%; position:static; }
  .ai2-tabnav{ flex-direction:row !important; overflow-x:auto; gap:10px; }
  .ai2-tabnav .nav-link{ white-space:nowrap; margin-bottom:0; }
}

.ai2-side .ai2-tabnav .nav-link{
  background: #0b1630;
  color: rgba(255,255,255,.92);
  border: 1px solid rgba(148,163,184,.22);
  box-shadow: 0 10px 20px rgba(0,0,0,.22);
  border-radius:16px;
  padding:14px 16px;
  font-weight:900;
}

.ai2-side .ai2-tabnav .nav-link.active,
.ai2-side .ai2-tabnav .show > .nav-link{
  background: #1e4fff;
  border-color: rgba(47,107,255,.75);
  color: #fff;
}

/* AI2 hero -> 흰 배경 자연 페이드 */
.hero-section.hero-ai{
  position: relative;
  overflow: hidden;
  margin-bottom: 0;
}

.hero-section.hero-ai::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:0;
  height: 40px;            /* 90~160px 취향 */
  pointer-events:none;
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0),
    rgba(255,255,255,1)
  );
}

/* hero 아래 여백 때문에 흰 띠가 생기면(너 스샷같은 케이스) */
.ai2-page{
  margin-top: 0 !important;     /* 기존 mt-4 영향 줄이기 */
  padding-top: 0 !important;
}

/* ===== 푸터와 간격 ===== */
.ai2-page{
  padding-bottom: 120px; /* 푸터와 간격 */
}


/* ===== B2B 미니채팅 섹션(수정/추가요청) 개선 ===== */
#pane-b2b .ai2-section-head{
  margin-top: 22px;
  margin-bottom: 12px;
  padding: 14px 14px;
  border-radius: 16px;
  border: 1px solid rgba(148,163,184,.22);
  background: rgba(255,255,255,.05);
}

#pane-b2b .ai2-section-title{
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.3px;
  line-height: 1.2;
  margin-bottom: 6px;
}

#pane-b2b .ai2-section-sub{
  font-size: 13px;
  color: rgba(226,232,240,.72);
  line-height: 1.5;
}

#pane-b2b .ai2-chat-log--compact{
  height: 260px;              /* 살짝 키움 */
  padding: 16px;
  border-radius: 18px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(148,163,184,.22);
}

/* B2B 미니채팅: 입력창과 '반영' 버튼 사이 간격 만들기 */
#pane-b2b .input-group{
  display: flex;
}

#pane-b2b .input-group .form-control{
  border-top-right-radius: 16px !important;
  border-bottom-right-radius: 16px !important;
}

/* input-group-append를 분리해서 떨어뜨림 */
#pane-b2b .input-group .input-group-append{
  margin-left: 15px; /* 여기 숫자만 8~14로 취향 조절 */
}

/* 버튼도 둥글게 + 높이 맞춤 */
#pane-b2b #b2b_refine_btn{
  border-radius: 16px !important;
  height: calc(1.5em + .75rem + 2px); /* 부트스트랩 input 높이 맞춤 */
}

#pane-b2c .input-group{ display:flex; }
#pane-b2c .input-group .input-group-append{ margin-left:10px; }
#pane-b2c #ai2_send_btn{ border-radius:16px !important; }

/* 초안 생성: 저채도 네이비-인디고 버튼 */
#b2b_gen_btn{
  background: linear-gradient(180deg, #2a4fd8 0%, #1f3aa8 100%);
  border: 1px solid rgba(148,163,184,.22);
  color: rgba(255,255,255,.92) !important; /* 글자 검정 방지 */
  box-shadow: 0 10px 20px rgba(0,0,0,.25);
  border-radius: 18px;
  font-weight: 900;
}

#b2b_gen_btn:hover{
  background: linear-gradient(180deg, #3059ee 0%, #2242bf 100%);
}

#b2b_gen_btn:active{
  transform: translateY(1px);
}

/* 자치구 select: 배경/글자/테두리 */
.ai2-page select.form-control{
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  border: 1px solid rgba(148,163,184,.22);
}

/* 펼쳐진 option 색(브라우저에 따라 제한적이지만 우선 시도) */
.ai2-page select.form-control option{
  background: #0b1630;
  color: #ffffff;
}


/* ================================
   B2B 보고서 출력: 채팅형 로그 전용 오버라이드
   (ai2-chat-log / ai2-msg / ai2-bubble 재사용)
================================ */

/* 보고서 로그 높이: 기존 compact(240px)보다 살짝 줄이거나 원하는 값으로 */
#b2b_report_log{
  height: 220px;          /* 180~260 취향 조절 */
  overflow-y: auto;
}

/* 보고서는 길어서 말풍선 max-width를 100%로 (기존 78% 때문에 답답함) */
#b2b_report_log .ai2-bubble{
  max-width: 100%;
}

/* 보고서 본문(pre) 쓸 거면: 폰트/여백/줄바꿈 자연스럽게 */
#b2b_report_log pre{
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
  font-family: inherit;   /* 모노스페이스 방지 */
  color: inherit;
  line-height: 1.55;
}
